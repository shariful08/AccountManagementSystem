@page
@model MiniAccountManagementSystem.Pages.Vouchers.CreateModel



<form method="post">
    <input asp-for="VoucherEntry.VoucherMaster.VoucherNo" class="form-control" />
    <input asp-for="VoucherEntry.VoucherMaster.VoucherDate" class="form-control" type="date" />
    <input asp-for="VoucherEntry.VoucherMaster.VoucherType" class="form-control" />
    <input asp-for="VoucherEntry.VoucherMaster.Narration" class="form-control" />
    <input asp-for="VoucherEntry.VoucherMaster.Remarks" class="form-control" />

    <table id="voucherDetails" class="table">
        <thead>
            <tr>
                <th>Account</th>
                <th>Debit</th>
                <th>Credit</th>
                <th>Remarks</th>
                <th><button type="button" onclick="addRow()">Add</button></th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <input type="submit" value="Save" class="btn btn-primary" />
</form>

@section Scripts {
    <script>
        let detailIndex = 0;

        function addRow() {
            const table = document.querySelector('#voucherDetails tbody');
            const row = document.createElement('tr');
            row.innerHTML = `
                <td><input name="VoucherEntry.VoucherDetails[${detailIndex}].AccountId" type="number" /></td>
                <td><input name="VoucherEntry.VoucherDetails[${detailIndex}].DebitAmount" type="number" step="0.01" /></td>
                <td><input name="VoucherEntry.VoucherDetails[${detailIndex}].CreditAmount" type="number" step="0.01" /></td>
                <td><input name="VoucherEntry.VoucherDetails[${detailIndex}].Remarks" /></td>
                <td><button type="button" onclick="this.closest('tr').remove()">Remove</button></td>
            `;
            table.appendChild(row);
            detailIndex++;
        }

    </script>
}
